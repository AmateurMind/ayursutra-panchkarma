<mxfile host="app.diagrams.net" modified="2025-10-05T06:58:00.000Z" agent="Warp-Agent gpt-5 (high reasoning)" version="24.7.0">
  <diagram id="AYURSUTRA-ARCH" name="AYURSUTRA Architecture">
    <mxGraphModel dx="1422" dy="794" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1920" pageHeight="1080" math="0" shadow="0">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>

        <!-- Title -->
        <mxCell id="title" value="Panchakarma Patient Management &amp; Therapy Scheduling – System Architecture" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;fontSize=22;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="0" y="10" width="1920" height="40" as="geometry"/>
        </mxCell>

        <!-- Top strip: Client-System -->
        <mxCell id="client" value="Client-System\nPatient App (React) | Doctor Portal (React) | Admin Panel (React)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=14" vertex="1" parent="1">
          <mxGeometry x="40" y="80" width="300" height="100" as="geometry"/>
        </mxCell>

        <!-- Web (globe) -->
        <mxCell id="web" value="Web\n(HTTPS)" style="ellipse;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#000000;align=center;verticalAlign=middle;fontSize=14" vertex="1" parent="1">
          <mxGeometry x="420" y="90" width="120" height="120" as="geometry"/>
        </mxCell>

        <!-- Authentication label -->
        <mxCell id="auth" value="Authentication (JWT)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;fontSize=13" vertex="1" parent="1">
          <mxGeometry x="360" y="60" width="180" height="20" as="geometry"/>
        </mxCell>

        <!-- Server -->
        <mxCell id="server" value="Server\nExpress.js + Node" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=14" vertex="1" parent="1">
          <mxGeometry x="600" y="80" width="200" height="130" as="geometry"/>
        </mxCell>

        <!-- DB (cylinder) -->
        <mxCell id="db" value="MongoDB" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=14" vertex="1" parent="1">
          <mxGeometry x="840" y="60" width="120" height="160" as="geometry"/>
        </mxCell>

        <!-- Edge: client -> web -->
        <mxCell id="e_client_web" style="edgeStyle=orthogonalEdgeStyle;endArrow=block;rounded=0;html=1;strokeColor=#6c8ebf" edge="1" parent="1" source="client" target="web">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- Edge: web -> server -->
        <mxCell id="e_web_server" style="edgeStyle=orthogonalEdgeStyle;endArrow=block;rounded=0;html=1;strokeColor=#000000" edge="1" parent="1" source="web" target="server">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- Edge: server -> db (Services) -->
        <mxCell id="e_server_db" value="Services" style="edgeStyle=orthogonalEdgeStyle;endArrow=block;rounded=0;html=1;strokeColor=#d6b656;fontSize=12" edge="1" parent="1" source="server" target="db">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- Left column: Roles container -->
        <mxCell id="rolesContainer" value="Roles" style="swimlane;rounded=1;whiteSpace=wrap;html=1;horizontal=0;fillColor=#f5f5f5;strokeColor=#b3b3b3;fontSize=14" vertex="1" parent="1">
          <mxGeometry x="40" y="260" width="300" height="560" as="geometry"/>
        </mxCell>

        <!-- Roles -->
        <mxCell id="roleVisitor" value="Visitor" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#b3b3b3;fontSize=13" vertex="1" parent="rolesContainer">
          <mxGeometry x="20" y="40" width="260" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="rolePatients" value="Patients" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#b3b3b3;fontSize=13" vertex="1" parent="rolesContainer">
          <mxGeometry x="20" y="110" width="260" height="80" as="geometry"/>
        </mxCell>
        <mxCell id="roleDoctors" value="Doctors" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#b3b3b3;fontSize=13" vertex="1" parent="rolesContainer">
          <mxGeometry x="20" y="200" width="260" height="80" as="geometry"/>
        </mxCell>
        <mxCell id="roleAdmin" value="Admin" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#b3b3b3;fontSize=13" vertex="1" parent="rolesContainer">
          <mxGeometry x="20" y="290" width="260" height="80" as="geometry"/>
        </mxCell>

        <!-- Center grid: User Role Capabilities title -->
        <mxCell id="capTitle" value="User Role Capabilities" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#000000;fontSize=16;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="380" y="260" width="700" height="40" as="geometry"/>
        </mxCell>

        <!-- Headers -->
        <mxCell id="h1" value="Discover &amp; Info" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=13" vertex="1" parent="1">
          <mxGeometry x="380" y="310" width="175" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="h2" value="Schedule &amp; Manage" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=13" vertex="1" parent="1">
          <mxGeometry x="555" y="310" width="175" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="h3" value="Care &amp; Docs" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=13" vertex="1" parent="1">
          <mxGeometry x="730" y="310" width="175" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="h4" value="Profile &amp; Billing" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=13" vertex="1" parent="1">
          <mxGeometry x="905" y="310" width="175" height="40" as="geometry"/>
        </mxCell>

        <!-- Visitor row -->
        <mxCell id="v1" value="Browse therapies; View specialists; Center info" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#cccccc;fontSize=12" vertex="1" parent="1">
          <mxGeometry x="380" y="360" width="175" height="100" as="geometry"/>
        </mxCell>
        <mxCell id="v2" value="—" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#cccccc;fontSize=12;align=center;verticalAlign=middle" vertex="1" parent="1">
          <mxGeometry x="555" y="360" width="175" height="100" as="geometry"/>
        </mxCell>
        <mxCell id="v3" value="Prep &amp; post-care guides" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#cccccc;fontSize=12" vertex="1" parent="1">
          <mxGeometry x="730" y="360" width="175" height="100" as="geometry"/>
        </mxCell>
        <mxCell id="v4" value="—" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#cccccc;fontSize=12;align=center;verticalAlign=middle" vertex="1" parent="1">
          <mxGeometry x="905" y="360" width="175" height="100" as="geometry"/>
        </mxCell>

        <!-- Patients row -->
        <mxCell id="p1" value="Therapy catalog; Doctor profiles; Slot view (10:00–21:00)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#cccccc;fontSize=12" vertex="1" parent="1">
          <mxGeometry x="380" y="470" width="175" height="120" as="geometry"/>
        </mxCell>
        <mxCell id="p2" value="Book/cancel/reschedule; 30‑min slots; 7‑day window; Conflict prevention" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#cccccc;fontSize=12" vertex="1" parent="1">
          <mxGeometry x="555" y="470" width="175" height="120" as="geometry"/>
        </mxCell>
        <mxCell id="p3" value="Digital consent; Instructions; Progress notes; Email reminders" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#cccccc;fontSize=12" vertex="1" parent="1">
          <mxGeometry x="730" y="470" width="175" height="120" as="geometry"/>
        </mxCell>
        <mxCell id="p4" value="Profile; Medical history; Invoices/receipts" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#cccccc;fontSize=12" vertex="1" parent="1">
          <mxGeometry x="905" y="470" width="175" height="120" as="geometry"/>
        </mxCell>

        <!-- Doctors row -->
        <mxCell id="d1" value="Daily schedule; Assigned patients" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#cccccc;fontSize=12" vertex="1" parent="1">
          <mxGeometry x="380" y="600" width="175" height="120" as="geometry"/>
        </mxCell>
        <mxCell id="d2" value="Mark complete/cancel; Set availability; Block slots" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#cccccc;fontSize=12" vertex="1" parent="1">
          <mxGeometry x="555" y="600" width="175" height="120" as="geometry"/>
        </mxCell>
        <mxCell id="d3" value="Therapy notes; Adverse events; Image uploads" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#cccccc;fontSize=12" vertex="1" parent="1">
          <mxGeometry x="730" y="600" width="175" height="120" as="geometry"/>
        </mxCell>
        <mxCell id="d4" value="Fees; Credentials; Payout view" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#cccccc;fontSize=12" vertex="1" parent="1">
          <mxGeometry x="905" y="600" width="175" height="120" as="geometry"/>
        </mxCell>

        <!-- Admin row -->
        <mxCell id="a1" value="Center overview; Slot utilization; Revenue snapshots" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#cccccc;fontSize=12" vertex="1" parent="1">
          <mxGeometry x="380" y="730" width="175" height="120" as="geometry"/>
        </mxCell>
        <mxCell id="a2" value="Manage doctors; Override bookings; Maintenance blocks" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#cccccc;fontSize=12" vertex="1" parent="1">
          <mxGeometry x="555" y="730" width="175" height="120" as="geometry"/>
        </mxCell>
        <mxCell id="a3" value="Templates; Protocol governance; Audit trail" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#cccccc;fontSize=12" vertex="1" parent="1">
          <mxGeometry x="730" y="730" width="175" height="120" as="geometry"/>
        </mxCell>
        <mxCell id="a4" value="Pricing rules; Discounts; Reports &amp; exports" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#cccccc;fontSize=12" vertex="1" parent="1">
          <mxGeometry x="905" y="730" width="175" height="120" as="geometry"/>
        </mxCell>

        <!-- Edges from roles to grid (examples) -->
        <mxCell id="e_patients_grid" style="edgeStyle=orthogonalEdgeStyle;endArrow=block;rounded=0;html=1;strokeColor=#b3b3b3" edge="1" parent="1" source="rolePatients" target="p2">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="e_doctors_grid" style="edgeStyle=orthogonalEdgeStyle;endArrow=block;rounded=0;html=1;strokeColor=#b3b3b3" edge="1" parent="1" source="roleDoctors" target="d2">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="e_admin_grid" style="edgeStyle=orthogonalEdgeStyle;endArrow=block;rounded=0;html=1;strokeColor=#b3b3b3" edge="1" parent="1" source="roleAdmin" target="a2">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- Right column: Services stack container -->
        <mxCell id="svcContainer" value="Services" style="swimlane;rounded=1;whiteSpace=wrap;html=1;horizontal=0;fillColor=#f8f8f8;strokeColor=#b3b3b3;fontSize=14" vertex="1" parent="1">
          <mxGeometry x="1150" y="60" width="420" height="900" as="geometry"/>
        </mxCell>

        <!-- Service items -->
        <mxCell id="svc1" value="JWT Auth" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=13" vertex="1" parent="svcContainer">
          <mxGeometry x="20" y="40" width="380" height="70" as="geometry"/>
        </mxCell>
        <mxCell id="svc2" value="Email (Nodemailer / Web3Forms)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=13" vertex="1" parent="svcContainer">
          <mxGeometry x="20" y="120" width="380" height="70" as="geometry"/>
        </mxCell>
        <mxCell id="svc3" value="Payments (Razorpay)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffdede;strokeColor=#c28b8b;fontSize=13" vertex="1" parent="svcContainer">
          <mxGeometry x="20" y="200" width="380" height="70" as="geometry"/>
        </mxCell>
        <mxCell id="svc4" value="File Storage (Cloudinary)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=13" vertex="1" parent="svcContainer">
          <mxGeometry x="20" y="280" width="380" height="70" as="geometry"/>
        </mxCell>
        <mxCell id="svc5" value="AI Assistant (Gemini / OpenAI)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=13" vertex="1" parent="svcContainer">
          <mxGeometry x="20" y="360" width="380" height="70" as="geometry"/>
        </mxCell>
        <mxCell id="svc6" value="Validation &amp; Security (validator.js, rate limits)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#b3b3b3;fontSize=13" vertex="1" parent="svcContainer">
          <mxGeometry x="20" y="440" width="380" height="70" as="geometry"/>
        </mxCell>
        <mxCell id="svc7" value="Scheduler (node-cron)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=13" vertex="1" parent="svcContainer">
          <mxGeometry x="20" y="520" width="380" height="70" as="geometry"/>
        </mxCell>
        <mxCell id="svc8" value="Monitoring &amp; Logs (Winston / Sentry)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=13" vertex="1" parent="svcContainer">
          <mxGeometry x="20" y="600" width="380" height="70" as="geometry"/>
        </mxCell>
        <mxCell id="svc9" value="Cloud Hosting (Render / Vercel)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffdede;strokeColor=#c28b8b;fontSize=13" vertex="1" parent="svcContainer">
          <mxGeometry x="20" y="680" width="380" height="70" as="geometry"/>
        </mxCell>
        <mxCell id="svc10" value="Database (MongoDB)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=13" vertex="1" parent="svcContainer">
          <mxGeometry x="20" y="760" width="380" height="70" as="geometry"/>
        </mxCell>

        <!-- Service icons -->
        <mxCell id="iconJWT" value="" style="shape=image;html=1;image=https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/jsonwebtokens.svg;aspect=fixed;" vertex="1" parent="svcContainer">
          <mxGeometry x="30" y="61" width="28" height="28" as="geometry"/>
        </mxCell>
        <mxCell id="iconGmail" value="" style="shape=image;html=1;image=https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/gmail.svg;aspect=fixed;" vertex="1" parent="svcContainer">
          <mxGeometry x="30" y="141" width="28" height="28" as="geometry"/>
        </mxCell>
        <mxCell id="iconRazorpay" value="" style="shape=image;html=1;image=https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/razorpay.svg;aspect=fixed;" vertex="1" parent="svcContainer">
          <mxGeometry x="30" y="221" width="28" height="28" as="geometry"/>
        </mxCell>
        <mxCell id="iconCloudinary" value="" style="shape=image;html=1;image=https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/cloudinary.svg;aspect=fixed;" vertex="1" parent="svcContainer">
          <mxGeometry x="30" y="301" width="28" height="28" as="geometry"/>
        </mxCell>
        <mxCell id="iconOpenAI" value="" style="shape=image;html=1;image=https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/openai.svg;aspect=fixed;" vertex="1" parent="svcContainer">
          <mxGeometry x="30" y="381" width="28" height="28" as="geometry"/>
        </mxCell>
        <mxCell id="iconShield" value="" style="shape=image;html=1;image=https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/owasp.svg;aspect=fixed;" vertex="1" parent="svcContainer">
          <mxGeometry x="30" y="461" width="28" height="28" as="geometry"/>
        </mxCell>
        <mxCell id="iconClock" value="" style="shape=image;html=1;image=https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/clockify.svg;aspect=fixed;" vertex="1" parent="svcContainer">
          <mxGeometry x="30" y="541" width="28" height="28" as="geometry"/>
        </mxCell>
        <mxCell id="iconSentry" value="" style="shape=image;html=1;image=https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/sentry.svg;aspect=fixed;" vertex="1" parent="svcContainer">
          <mxGeometry x="30" y="621" width="28" height="28" as="geometry"/>
        </mxCell>
        <mxCell id="iconVercel" value="" style="shape=image;html=1;image=https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/vercel.svg;aspect=fixed;" vertex="1" parent="svcContainer">
          <mxGeometry x="30" y="701" width="28" height="28" as="geometry"/>
        </mxCell>
        <mxCell id="iconMongo" value="" style="shape=image;html=1;image=https://cdn.jsdelivr.net/gh/devicons/devicon/icons/mongodb/mongodb-original.svg;aspect=fixed;" vertex="1" parent="svcContainer">
          <mxGeometry x="30" y="781" width="28" height="28" as="geometry"/>
        </mxCell>

        <!-- Top-level brand icons -->
        <mxCell id="iconReact" value="" style="shape=image;html=1;image=https://cdn.jsdelivr.net/gh/devicons/devicon/icons/react/react-original.svg;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="50" y="90" width="28" height="28" as="geometry"/>
        </mxCell>
        <mxCell id="iconNode" value="" style="shape=image;html=1;image=https://cdn.jsdelivr.net/gh/devicons/devicon/icons/nodejs/nodejs-original.svg;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="605" y="90" width="28" height="28" as="geometry"/>
        </mxCell>
        <mxCell id="iconExpress" value="" style="shape=image;html=1;image=https://cdn.jsdelivr.net/gh/devicons/devicon/icons/express/express-original.svg;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="770" y="90" width="28" height="28" as="geometry"/>
        </mxCell>
        <mxCell id="iconMongoTop" value="" style="shape=image;html=1;image=https://cdn.jsdelivr.net/gh/devicons/devicon/icons/mongodb/mongodb-original.svg;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="840" y="30" width="28" height="28" as="geometry"/>
        </mxCell>

        <!-- Connector: server to services container -->
        <mxCell id="e_server_svc" style="edgeStyle=orthogonalEdgeStyle;endArrow=block;rounded=0;html=1;strokeColor=#b3b3b3" edge="1" parent="1" source="server" target="svcContainer">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
